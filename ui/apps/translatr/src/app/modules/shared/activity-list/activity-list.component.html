<app-nav-list
  [empty]="empty"
  [pagedList]="activities"
  (filter)="onFilter($event)"
  [showMore]="showMore"
>
  <mat-list-item
    *ngFor="let activity of activities?.list; trackBy: trackByFn"
    [ngClass]="iconType(activity.contentType)"
    class="activity-list-item"
  >
    <div class="timestamp sub-title">
      <span [matTooltip]="activity.whenCreated | date: 'full'">{{
        activity.whenCreated | amTimeAgo
        }}</span>
    </div>
    <mat-icon
      [ngClass]="iconType(activity.contentType)"
      class="circle"
      matListIcon
    >{{icon(activity.contentType)}}</mat-icon>
    <h3 matLine>
      <a [routerLink]="['/', activity.userUsername]" class="link user-name">{{
        activity.userName
        }}</a>
      <span class="sub-title">
        <ng-container [ngSwitch]="activity.type">
          <span *ngSwitchCase="'Create'" class="type" i18n>
            <span>created</span>
            <app-activity-content [activity]="activity"></app-activity-content>
          </span>
          <span *ngSwitchCase="'Update'" class="type" i18n>
            <span>updated</span>
            <app-activity-content [activity]="activity"></app-activity-content>
          </span>
          <span *ngSwitchCase="'Delete'" class="type" i18n>
            <span>deleted</span>
            <app-activity-content [activity]="activity"></app-activity-content>
          </span>
          <span *ngSwitchCase="'Login'" class="type" i18n>
            <span>logged in</span></span
          >
          <span *ngSwitchCase="'Logout'" class="type" i18n>
            <span>logged out</span></span
          >
        </ng-container>
      </span>
    </h3>
  </mat-list-item>
</app-nav-list>

<ng-template #empty>
  <mat-list class="empty large">
    <mat-icon class="activity">change_history</mat-icon>
    <h3 i18n="@@activity.empty">No activity yet.</h3>
  </mat-list>
</ng-template>
