<ng-container *transloco="let t">
  <app-nav-list
    (filter)="onFilter($event)"
    [pagedList]="accessTokens$ | async"
    [empty]="empty"
    showFilter="true"
  >
    <a
      *ngFor="let accessToken of (accessTokens$ | async)?.list; trackBy: trackByFn"
      [routerLink]="['/', (user$ | async)?.username, 'access-tokens', accessToken.id]"
      mat-list-item
    >
      <mat-icon class="circle access-token" matListIcon>vpn_key</mat-icon>
      <h3 matLine>{{ accessToken.name }}</h3>
      <p [matTooltip]="accessToken.whenCreated | date" matLine>
        {{ accessToken.whenCreated | amTimeAgo }}
      </p>
    </a>
  </app-nav-list>

  <ng-template #empty>
    <dev-empty-view icon="vpn_key">
      <p transloco="accessToken.teaser.text">You don't have any access tokens yet, how about creating one?</p>
      <button (click)="openAccessTokenCreationDialog()"
              class="action"
              color="accent"
              mat-raised-button
              transloco="accessToken.create"
      >Create access token
      </button>
    </dev-empty-view>
  </ng-template>

  <button
    mat-fab
    color="accent"
    class="floating-action-btn pin-bottom"
    (click)="openAccessTokenCreationDialog()"
    [matTooltip]="t('accessToken.create.tooltip')"
  >
    <mat-icon>add</mat-icon>
  </button>
</ng-container>
