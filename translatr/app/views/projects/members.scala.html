@(template: utils.Template, project: Project, memberList: List[ProjectUser], form: Form[forms.SearchForm])

@import utils.FormatUtils._

@main(template.withTitle(Messages("keys.title", project.name))) {
	@tags.search(form)()
} {
		<a class="breadcrumb" href="@routes.Dashboards.dashboard()">
			@Messages("dashboard")
		</a>
		<a class="breadcrumb" href="@routes.Projects.project(project.id)">
			@project.name
		</a>
		<a class="breadcrumb active" href="@routes.Projects.members(project.id)">
			@Messages("project.members")
		</a>
} {
	@content(project, "members") {
		<ul class="collection linked-accounts">
			@for(projectUser <- memberList) {
				<li class="collection-item avatar">
					@tags.gravatar(projectUser.user, 48, "circle")
					<span class="title">
						@projectUser.user.username
					</span>
					<p>
						@Messages("project.role." + projectUser.role),
						@Messages("when.created", pretty(ctx.lang().locale, projectUser.whenCreated))
					</p>
					<a
						href="#routes.Projects.memberRemove(projectUser.id)"
						class="secondary-content btn-hover"
						title="@Messages("button.remove")">
						<i class="material-icons">delete_forever</i>
					</a>
				</li>
			}
		</ul>
		@tags.pager(routes.Projects.members(project.id), form.get)
	}

	@tags.fabContainer("create-member", "add", tooltip = Messages("member.create.tooltip"), styleClass = "teal")

	@tags.modal(Messages("member.new"), "modal-create-member") {
		@memberForm(project)
	}

	<script type="text/javascript">
		var projectId = '@project.id';
	</script>
	<script src="@routes.Assets.versioned("javascripts/projectMembers.js")"></script>
}