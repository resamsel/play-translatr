@(project: models.Project, keys: List[models.Key])

@main(Messages("keys.title", project.name)) {
	@tags.search()
} {
	@tags.breadcrumbs {
		<a class="breadcrumb" href="@routes.Application.dashboard()">
			@Messages("dashboard")
		</a>
		<a class="breadcrumb" href="@routes.Application.project(project.id)">
			@project.name
		</a>
		<a class="breadcrumb active" href="@routes.Application.projectKeys(project.id)">
			@Messages("keys")
		</a>
	}

	@tags.content {
		<div class="col m12">
			@tags.projectTabs(project, "keys") {
				<table class="table card tab-body btn-hide">
					<thead>
						<tr>
							<th class="name">@Messages("key.name")</th>
							<th class="updated">@Messages("when.updated")</th>
							<th class="locale-progress">@Messages("locale.progress")</th>
							<th class="actions">@Messages("row.actions")</th>
						</tr>
					</thead>
					<tbody>
						@for(key <- keys) {
							<tr id="@key.id" class="key" name="@key.name.toLowerCase">
								<td class="name">
									<a href="@routes.Application.key(key.id)">
										@key.name
									</a>
								</td>
								<td class="updated">
									@utils.FormatUtils.pretty(ctx.lang().locale, key.whenUpdated)
								</td>
								<td class="locale-progress">
									<div class="progress">
										<div class="determinate" style="width: @{project.progress(key)*100}%;"></div>
									</div>
								</td>
								<td class="actions right-align">
									<a
										href="@routes.Application.keyEdit(key.id)"
										class="btn-flat waves-effect waves-light"
										title="@Messages("button.edit")">
										<i class="material-icons">mode_edit</i>
									</a>
									<a
										href="@routes.Application.keyRemove(key.id, null)"
										class="btn-flat waves-effect waves-light"
										title="@Messages("button.remove")">
										<i class="material-icons">delete_forever</i>
									</a>
								</td>
							</tr>
						}
					</tbody>
				</table>
			}
		</div>
		<!-- /.col-md-12 -->
	}

	@tags.modalTrigger("create", "create", Messages("key.create.tooltip"), "light-green")

	@tags.modal(Messages("key.new"), "modal-create") {
		@forms.keyCreate(project)
	}

	<script src="@routes.Assets.versioned("javascripts/projectKeys.js")"></script>
}