@(project: models.Project, keys: List[models.Key])

@main(Messages("keys.title", project.name)) {
	@tags.search()
} {
	<ul class="breadcrumb">
		<li>
			<a href="@routes.Application.dashboard()">
				@Messages("dashboard")
			</a>
		</li>
		<li>
			<a href="@routes.Application.project(project.id)">
				@project.name
			</a>
		</li>
		<li class="active">@Messages("keys")</li>
	</ul>

	<div class="col-md-12">
		@tags.projectTabs(project, "keys") {
			<table class="table card tab-body">
				<tbody>
					@for(key <- keys) {
						<tr id="@key.id" class="key" name="@key.name.toLowerCase">
							<td class="name">
								<a href="@routes.Application.key(key.id)">
									@key.name
								</a>
							</td>
							<td class="updated">
								@utils.FormatUtils.pretty(ctx.lang().locale, key.whenUpdated)
							</td>
							<td class="locale-progress">
								<div class="progress">
									<div class="progress-bar progress-bar-success" style="width: @{project.progress(key)*100}%;"></div>
								</div>
							</td>
							<td class="actions text-right">
								<a href="@routes.Application.keyEdit(key.id)" class="btn btn-link" title="@Messages("button.edit")">
									<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								</a>
								<a href="@routes.Application.keyRemove(key.id, null)" class="btn btn-link" title="@Messages("button.remove")">
									<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</a>
							</td>
						</tr>
					}
				</tbody>
			</table>
		}
	</div>
	<!-- /.col-md-12 -->

	<button
		type="button"
		id="create"
		class="btn btn-circle btn-raised btn-primary btn-create"
		data-toggle="modal"
		data-target="#modal-create">
		<span class="glyphicon glyphicon-plus"></span>
	</button>

	@tags.modal(Messages("key.new"), "modal-create") {
		<form id="form-key" method="post" action="@routes.Application.keyCreate(project.id, null)">
			<div class="form-group">
				<input id="field-key-name" name="name" class="form-control" placeholder="@Messages("key.label")"></input>
			</div>
		</form>
	}

	<script src="@routes.Assets.versioned("javascripts/projectKeys.js")"></script>
}